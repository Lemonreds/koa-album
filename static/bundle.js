"use strict";var _createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function o(a,l,s){function c(n,e){if(!l[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=l[n]={exports:{}};a[n][0].call(r.exports,function(e){var t=a[n][1][e];return c(t||e)},r,r.exports,o,a,l,s)}return l[n].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){document.ready=function(t){if(document.addEventListener){document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()})}else addLoadEvent(t)},n.addLoadEvent=function(e){var t=window.onload;window.onload="function"!=typeof t?e:function(){t(),e()}}},{}],2:[function(e,t,n){var i=function(){function t(e){_classCallCheck(this,t),this.elements=e,this.isMobile()?this.config={width:.96*window.innerWidth,height:.54*window.innerHeight}:this.config={width:.68*window.innerWidth,height:.78*window.innerHeight},this.mainThumb=null,this.bottomDom=null,this.init()}return _createClass(t,[{key:"init",value:function(){var t=this;Array.from(this.elements).forEach(function(e){e.addEventListener("click",function(){t.layout(),t.show(e)})})}},{key:"layout",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("img"),r=document.createElement("div");t.className="gContainer",n.className="gmainBox gSlideDown",i.className="gImg",r.className="gBottom",this.setStyle(n),this.setStyle(i),this.mainThumb=i,this.bottomDom=r,t.appendChild(r),n.appendChild(i),t.appendChild(n),t.addEventListener("click",function(){e.desotry()}),document.getElementsByTagName("body")[0].appendChild(t)}},{key:"show",value:function(i){var r=this;this.mainThumb.src=this.getSrc(i);var e=this.getAdjacent(i),t=function(e){var t=document.createElement("img"),n=r.elements[e];i===n&&(t.className="gActive"),t.src=r.getSrc(n),t.addEventListener("click",function(e){r.clearDOM(r.bottomDom),r.show(n),e.stopPropagation()}),r.bottomDom.appendChild(t)},n=!0,o=!1,a=void 0;try{for(var l,s=e.values()[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){t(l.value)}}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}}},{key:"clearDOM",value:function(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}},{key:"getAdjacent",value:function(e){var t=-1,n=!0,i=!1,r=void 0;try{for(var o,a=this.elements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(t++,l===e)break}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}for(var s=new Set,c=this.isMobile()?5:9,u=this.elements.length-1,d=parseInt(t-c/2)+1;0<c;d++)0<=d&&(u-1<d?s.add((u+d)%u):s.add(d),c--);return s}},{key:"getSrc",value:function(e){var t;if(!(t=e.getAttribute("src"))){var n=e.style.backgroundImage;n.substring(6,n.length-2)}return t}},{key:"setStyle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.config.width,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.config.height,i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=e.style;r.width=t+"px",r.height=n+"px",i&&(r.marginTop=-.5*n+"px",r.marginLeft=-.5*t+"px")}},{key:"desotry",value:function(){var e=document.getElementsByClassName("gContainer")[0];document.getElementsByTagName("body")[0].removeChild(e)}},{key:"isMobile",value:function(){for(var e=navigator.userAgent,t=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),n=!1,i=0;i<t.length;i++)if(0<e.indexOf(t[i])){n=!0;break}return n}}]),t}();t.exports=i},{}],3:[function(e,t,n){e("./dom");var i=e("./lazyload"),r=e("./gallery");document.ready(function(){var e,t;document.getElementById("home-nav").addEventListener("click",function(){window.location.href="/"}),e=document.getElementsByTagName("img"),new r(e),t=document.getElementsByClassName("lazyload"),new i(t)})},{"./dom":1,"./gallery":2,"./lazyload":4}],4:[function(e,t,n){var i=function(){function t(e){_classCallCheck(this,t),this.images=e,this.src="data-src",this.observer=null,this.init()}return _createClass(t,[{key:"init",value:function(){var i=this;if(window.IntersectionObserver){var r=new IntersectionObserver(function(e){e.forEach(function(e){if(0<e.intersectionRatio){var t=e.target,n=t.getAttribute(i.src);i.setImage(t,n),r.unobserve(t),console.log(t)}})},{root:null,rootMargin:"0px",threshold:[0]}),e=!0,t=!1,n=void 0;try{for(var o,a=this.images[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var l=o.value;r.observe(l)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}else this.loadAll()}},{key:"loadAll",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.images[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=o.getAttribute(this.src);this.setImage(o,a)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},{key:"setImage",value:function(e,t){t&&("img"===e.tagName.toLowerCase()?e.src=t:e.style.backgroundImage="url("+t+")",e.removeAttribute(this.src))}}]),t}();t.exports=i},{}]},{},[3]);